<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Monitor MOC Pro</title>
    
    <style>
        :root {
            --primary: #004085;
            --bg: #f2f2f7;
            --card: #ffffff;
            --text: #000000;
            --search-bg: rgba(0,0,0,0.05);
            --safe-top: env(safe-area-inset-top);
        }

        /* Suporte automático ao Modo Escuro */
        @media (prefers-color-scheme: dark) {
            :root {
                --bg: #1c1c1e;
                --card: #2c2c2e;
                --text: #ffffff;
                --search-bg: rgba(255,255,255,0.1);
            }
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body { 
            font-family: -apple-system, system-ui, sans-serif; 
            background-color: var(--bg); 
            margin: 0; 
            color: var(--text);
            padding-top: calc(var(--safe-top) + 145px); /* Espaço para Header + Busca + Categorias */
        }

        /* Cabeçalho Glassmorphism */
        header { 
            background: rgba(var(--primary-rgb), 0.8);
            backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
            position: fixed; top: 0; width: 100%; z-index: 1000;
            padding-top: var(--safe-top);
            border-bottom: 0.5px solid rgba(0,0,0,0.1);
        }

        .header-top { 
            background: var(--primary); 
            color: white; 
            padding: 15px; 
            text-align: center; 
            font-weight: 700; 
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .search-container { padding: 10px 15px; background: var(--card); }
        .search-box {
            position: relative;
            display: flex;
            align-items: center;
        }
        #searchBar {
            width: 100%; padding: 12px 40px 12px 15px; border-radius: 12px;
            border: none; background: var(--search-bg); font-size: 16px; 
            color: var(--text); outline: none;
        }

        /* Categorias horizontais (Pills) */
        .categories {
            display: flex; overflow-x: auto; padding: 10px 15px; gap: 8px;
            background: var(--card); scrollbar-width: none;
        }
        .categories::-webkit-scrollbar { display: none; }
        .pill {
            padding: 8px 16px; border-radius: 20px; background: var(--search-bg);
            border: none; color: var(--text); font-size: 13px; font-weight: 600;
            white-space: nowrap; transition: 0.2s;
        }
        .pill.active { background: var(--primary); color: white; }

        /* Grade Otimizada */
        .grid {
            display: grid; grid-template-columns: repeat(auto-fill, minmax(75px, 1fr));
            gap: 12px; padding: 15px; max-width: 600px; margin: 0 auto;
        }

        .btn {
            aspect-ratio: 1/1; background: var(--card); border: none;
            border-radius: 18px; font-size: 22px; font-weight: 700; color: var(--primary);
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
            display: flex; align-items: center; justify-content: center;
            transition: transform 0.1s, box-shadow 0.1s;
        }

        .btn:active { transform: scale(0.9); box-shadow: 0 2px 4px rgba(0,0,0,0.1); }

        /* Modal Moderno */
        #modal {
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.5); z-index: 2000; align-items: center; justify-content: center;
            backdrop-filter: blur(8px);
        }
        .modal-box {
            background: var(--card); width: 85%; max-width: 320px; padding: 30px;
            border-radius: 25px; text-align: center; box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            animation: popIn 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        @keyframes popIn { from { transform: scale(0.7); opacity: 0; } to { transform: scale(1); opacity: 1; } }
        
        #modal-title { font-size: 12px; color: var(--primary); font-weight: 800; letter-spacing: 2px; margin-bottom: 10px; }
        #modal-text { font-size: 18px; font-weight: bold; line-height: 1.4; text-transform: uppercase; margin-bottom: 25px; }
        
        .close-btn { 
            background: var(--primary); color: white; border: none; padding: 15px; 
            border-radius: 15px; font-size: 16px; font-weight: 700; width: 100%;
        }

        .hidden { display: none !important; }
    </style>
</head>
<body>

<header>
    <div class="header-top">Câmeras MOC Pro</div>
    <div class="search-container">
        <div class="search-box">
            <input type="text" id="searchBar" placeholder="Número ou nome da rua..." onkeyup="filtrar()">
        </div>
    </div>
    <div class="categories" id="catList">
        <button class="pill active" onclick="filtrarCat('TUDO', this)">TUDO</button>
        <button class="pill" onclick="filtrarCat('CENTRO', this)">CENTRO</button>
        <button class="pill" onclick="filtrarCat('RODOVIA', this)">RODOVIAS</button>
        <button class="pill" onclick="filtrarCat('TREVO', this)">TREVOS</button>
        <button class="pill" onclick="filtrarCat('SAÍDA', this)">SAÍDAS</button>
    </div>
</header>

<div class="grid" id="mainGrid"></div>

<div id="modal">
    <div class="modal-box">
        <div id="modal-title">DETALHES DA CÂMERA</div>
        <div id="modal-text"></div>
        <button class="close-btn" onclick="fechar()">ENTENDIDO</button>
    </div>
</div>

<script>
    const cameras = {
        1: {l: "PCA DR CARLOS FRENTE MIN FAZENDA", c: "CENTRO"},
        2: {l: "PCA DR CARLOS FRENTE COPASA", c: "CENTRO"},
        3: {l: "DR. SANTOS X PE. AUGUSTO", c: "CENTRO"},
        4: {l: "DR. SANTOS X D. PEDRO II", c: "CENTRO"},
        5: {l: "DR. SANTOS X D. JOÃO PIMENTA", c: "CENTRO"},
        6: {l: "PCA CEL. RIBEIRO", c: "CENTRO"},
        7: {l: "R. CAMILO P. X D. PEDRO II", c: "CENTRO"},
        8: {l: "R. CAMILO P. X PE. AUGUSTO", c: "CENTRO"},
        9: {l: "PCA DR CARLOS", c: "CENTRO"},
        10: {l: "R. SÃO FRANC. X GOV. VALADARES", c: "CENTRO"},
        11: {l: "R. SÃO FRANC. X CEL. ANT. D. ANJOS", c: "CENTRO"},
        12: {l: "R. SÃO FRANC. X RUI BARBOSA", c: "CENTRO"},
        13: {l: "R. SÃO FRANC. X PE. AUGUSTO", c: "CENTRO"},
        14: {l: "R. SÃO FRANC. X D. PEDRO II", c: "CENTRO"},
        15: {l: "PCA PIO XII - CATEDRAL", c: "CENTRO"},
        16: {l: "JUCA PRATES X PE. AUGUSTO", c: "CENTRO"},
        17: {l: "R. JOAQ COSTA X CEL. ANT. D. ANJOS", c: "CENTRO"},
        18: {l: "R. JOAQ COSTA X VISC. DE OURO P.", c: "CENTRO"},
        19: {l: "AV. OSV. CRUZ X PADRE CHICO", c: "OUTROS"},
        20: {l: "AV. DULCE SARM. X FLAM. WANDER", c: "OUTROS"},
        21: {l: "AV. DULCE SARM. X SEB DIAS SOARES", c: "OUTROS"},
        22: {l: "AV. DULCE SARM. X FLORI. NEIVA", c: "OUTROS"},
        23: {l: "AV. GER ATHAIDE X EST. RODRIG.", c: "OUTROS"},
        24: {l: "AV. GER ATHAIDE X CEL J ALVES", c: "OUTROS"},
        25: {l: "AV. GER ATHAIDEX X J LOPES CARV.", c: "OUTROS"},
        26: {l: "RUA SÃO FRANCISCO X RUA VISCONDE DE OURO PRETO", c: "CENTRO"},
        27: {l: "PRAÇA MATRIZ PROX BABI", c: "CENTRO"},
        28: {l: "R. FLORIA. NEIVA X JUST. CÂMARA", c: "OUTROS"},
        29: {l: "AV, ARMENIO VEL. X FILOMENO", c: "OUTROS"},
        30: {l: "PE. TEIXEIRA X AV. ARMENIO VELOS.", c: "OUTROS"},
        31: {l: "MAL. DEODORO X ARTUR BERNAR", c: "OUTROS"},
        32: {l: "DEP. ESTEVES RODR X JOAO XXIII", c: "OUTROS"},
        33: {l: "JOAO XXIII ANTIGA UAI", c: "OUTROS"},
        34: {l: "JOAO XXIII X PRES KENEDY", c: "OUTROS"},
        35: {l: "DOUTOR VELOSO X DOM PEDRO II", c: "CENTRO"},
        36: {l: "PRES. VARGAS X DOUTOR VELOSO", c: "CENTRO"},
        37: {l: "GOV. VALAD. X CEL. PRATES", c: "CENTRO"},
        38: {l: "SIMEAO RIBEIRO X ALT FREITAS", c: "CENTRO"},
        39: {l: "SIMEAO RIBEIRO X LAFETA", c: "CENTRO"},
        40: {l: "SANTA MARIA X GONC FIGUEIRA", c: "OUTROS"},
        41: {l: "SANTA MARIA X DEP ESTEVES RODR.", c: "OUTROS"},
        42: {l: "DEP EST. RODRIG CASA ESFIRRA", c: "OUTROS"},
        43: {l: "SANTA MARIA X SANTO ANTONIO", c: "OUTROS"},
        44: {l: "BAR. RIO BRANCO X AFONSO PENA", c: "CENTRO"},
        45: {l: "AV. CEL PRATES PRAÇA STA CASA", c: "CENTRO"},
        46: {l: "ALL TIME", c: "OUTROS"},
        47: {l: "DEP EST. RODRIGUES X PREFEIT", c: "OUTROS"},
        48: {l: "CULA MANGAB. HU", c: "OUTROS"},
        49: {l: "CULA X JOAO REBELO", c: "OUTROS"},
        50: {l: "TREV. RODOVIARIA BANCO BRASIL", c: "TREVO"},
        51: {l: "RODOVIARIA DROGASIL", c: "RODOVIA"},
        52: {l: "FCO GAETANI X CASTELAR PRAT.", c: "OUTROS"},
        53: {l: "PARQ. DE EXPOS X LINHA FERREA", c: "OUTROS"},
        54: {l: "LAGOA DE INTERLAGOS", c: "OUTROS"},
        55: {l: "TREVO DA SION", c: "TREVO"},
        56: {l: "TREVO SAMU", c: "TREVO"},
        57: {l: "TREVO MAJOR PRATES - PARQUE", c: "TREVO"},
        58: {l: "JOÃO XXIII X PADRE FABIANO", c: "OUTROS"},
        59: {l: "TREVO INDUSTRIAS", c: "TREVO"},
        60: {l: "SAIDA BR365", c: "SAÍDA"},
        61: {l: "SAIDA ESTR. PRODUÇÃO", c: "SAÍDA"},
        62: {l: "SAIDA BR251", c: "SAÍDA"},
        63: {l: "SAIDA MG308", c: "SAÍDA"},
        64: {l: "SAIDA BR135", c: "SAÍDA"},
        65: {l: "BR135 ANEL ROD", c: "SAÍDA"},
        66: {l: "SAIDA", c: "SAÍDA"},
        67: {l: "RODOVIARIA", c: "RODOVIA"},
        68: {l: "VICENTE GUIMA", c: "OUTROS"},
        69: {l: "PL RIB X CEL L MAIA", c: "OUTROS"},
        70: {l: "PREFEITURA NOVA", c: "OUTROS"},
        71: {l: "TREVO TROPEIROS", c: "TREVO"}
    };

    const grid = document.getElementById('mainGrid');

    function render() {
        let html = '';
        for (let i = 1; i <= 71; i++) {
            html += `<button class="btn" data-cat="${cameras[i].c}" data-loc="${cameras[i].l}" onclick="ver(${i})">${i}</button>`;
        }
        grid.innerHTML = html;
    }

    function ver(id) {
        if (navigator.vibrate) navigator.vibrate(40);
        document.getElementById('modal-text').innerText = cameras[id].l;
        document.getElementById('modal').style.display = "flex";
    }

    function fechar() { document.getElementById('modal').style.display = "none"; }

    function filtrar() {
        const termo = document.getElementById('searchBar').value.toUpperCase();
        document.querySelectorAll('.btn').forEach(btn => {
            const loc = btn.getAttribute('data-loc');
            const num = btn.innerText;
            btn.classList.toggle('hidden', !(loc.includes(termo) || num === termo));
        });
    }

    function filtrarCat(cat, el) {
        document.querySelectorAll('.pill').forEach(p => p.classList.remove('active'));
        el.classList.add('active');
        document.querySelectorAll('.btn').forEach(btn => {
            if (cat === 'TUDO') btn.classList.remove('hidden');
            else btn.classList.toggle('hidden', btn.getAttribute('data-cat') !== cat);
        });
    }

    render();
</script>
</body>
</html>